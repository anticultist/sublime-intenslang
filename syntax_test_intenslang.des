// SYNTAX TEST "semafor-intens.sublime-syntax"

// foo
// <- source.semafor-intens comment.line.semafor-intens

INTEGER one, two;
//  <- storage.type.semafor-intens
//      ^^^ punctuation.definition.variable.semafor-intens
//         ^ punctuation.separator.semafor-intens
//           ^^^ punctuation.definition.variable.semafor-intens
//              ^ punctuation.terminator.semafor-intens

COLOR mycolor1 ();
//  <- storage.type.semafor-intens
//    ^^^^^^^^ punctuation.definition.variable.semafor-intens
//             ^ punctuation.section.group.begin.semafor-intens
//              ^ punctuation.section.group.end.semafor-intens
//               ^ punctuation.terminator.semafor-intens


COLOR mycolor2 (
//  <- storage.type.semafor-intens
//    ^^^^^^^^ punctuation.definition.variable.semafor-intens
//             ^ punctuation.section.group.begin.semafor-intens
        INVALID = (red, black),
        < 0 = ("#fff", "#f00"),
        RANGE(0, <2) = ("#ffffff", "#00ff00"),
        2 = ("#ffffff", "#0000f"),
        "mytext" = ( "#e0e0e0", "#e0e0e0" ),
        ELSE = ("#ffffff", "#0000ff")
    );
//  ^ punctuation.section.group.end.semafor-intens
//   ^ punctuation.terminator.semafor-intens

INTEGER {EDITABLE}
//  <- storage.type.semafor-intens
//       ^^^^^^^^ storage.modifier.semafor-intens
    foo {LABEL="mylabel", TOGGLE, FUNC=myfunc},
//  ^^^ punctuation.definition.variable.semafor-intens
//                                            ^ punctuation.separator.semafor-intens
    bar {COLOR=mycolor};
//  ^^^ punctuation.definition.variable.semafor-intens
//                     ^ punctuation.terminator.semafor-intens

SET myset ("zero"=0, "one"=1);
// <- storage.type.enum.semafor-intens
//  ^^^^^ entity.name.enum.semafor-intens
//        ^ punctuation.section.group.begin.semafor-intens
//                          ^ punctuation.section.group.end.semafor-intens
//                           ^ punctuation.terminator.semafor-intens

SET myset2 {INVALID=NONE} ("X"=0, "Y"=1);

SET STRING ();
// <- storage.type.enum.semafor-intens
//  ^^^^^^ invalid.illegal.name.semafor-intens
//         ^ punctuation.section.group.begin.semafor-intens
//          ^ punctuation.section.group.end.semafor-intens
//           ^ punctuation.terminator.semafor-intens

STRUCT MYSTRUCT {
// <- storage.type.struct.semafor-intens
//     ^^^^^^^^ entity.name.struct.semafor-intens
//              ^ punctuation.section.block.begin.semafor-intens
    INTEGER one, two;
//  ^^^^^^^ storage.type.semafor-intens
//          ^^^ punctuation.definition.variable.semafor-intens
//             ^ punctuation.separator.semafor-intens
//               ^^^ punctuation.definition.variable.semafor-intens
//                  ^ punctuation.terminator.semafor-intens
    REAL three;};
//  ^^^^ storage.type.semafor-intens
//       ^^^^^ punctuation.definition.variable.semafor-intens
//            ^ punctuation.terminator.semafor-intens
//             ^ punctuation.section.block.end.semafor-intens
//              ^ punctuation.terminator.semafor-intens

STRUCT MYSTRUCT2 {
    INTEGER { EDITABLE }
        button1 {LABEL="mylabel", BUTTON, FUNC=myfunc},
        foo {SET=myset};
};

STRUCT REAL {};
// <- storage.type.struct.semafor-intens
//     ^^^^ invalid.illegal.name.semafor-intens
//          ^ punctuation.section.block.begin.semafor-intens
//           ^ punctuation.section.block.end.semafor-intens
//            ^ punctuation.terminator.semafor-intens

STRUCT MYSTRUCT3 { INTEGER REAL;};
//               ^ punctuation.section.block.begin.semafor-intens
//                 ^^^^^^^ storage.type.semafor-intens
//                         ^^^^ invalid.illegal.name.semafor-intens
//                             ^ punctuation.terminator.semafor-intens
//                              ^ punctuation.section.block.end.semafor-intens
//                               ^ punctuation.terminator.semafor-intens

FUNC myfunc, myfunc2;
// <- storage.type.function.semafor-intens
//   ^^^^^^ entity.name.function.semafor-intens
//         ^ punctuation.separator.semafor-intens
//           ^^^^^^^ entity.name.function.semafor-intens
//                  ^ punctuation.terminator.semafor-intens

FUNC myfunc {
// <- storage.type.function.semafor-intens
//   ^^^^^^ entity.name.function.semafor-intens
//          ^ punctuation.section.block.begin.semafor-intens
    INTEGER foo, bar;
//  ^^^^^^^ storage.type.semafor-intens
//          ^^^ punctuation.definition.variable.semafor-intens
//             ^ punctuation.separator.semafor-intens
//               ^^^ punctuation.definition.variable.semafor-intens
//                  ^ punctuation.terminator.semafor-intens

    RUN ( myfunc2 );
//      ^ punctuation.section.group.begin.semafor-intens
//        ^^^^^^^ variable.function.semafor-intens
//                ^ punctuation.section.group.end.semafor-intens
//                 ^ punctuation.terminator.semafor-intens

    foo = 0;
    WHILE(foo < 4) {
        RUN( myfunc3 );
//         ^ punctuation.section.group.begin.semafor-intens
//           ^^^^^^^ variable.function.semafor-intens
//                   ^ punctuation.section.group.end.semafor-intens
//                    ^ punctuation.terminator.semafor-intens
        IF (foo != 3) {
            INPUT = OLDVALUE;
            THIS.buzz = 2;
        }
        ELSE {
            bar = 0;
            RETURN;
//          ^^^^^^ keyword.control.semafor-intens
//                ^ punctuation.terminator.semafor-intens
        }
        foo++;
    }

    IF ( REASON_OPEN ) {
        ABORT;
//      ^^^^^ keyword.control.semafor-intens
//           ^ punctuation.terminator.semafor-intens
    }
    ELSE IF ( REASON_CLOSE ) {
    }

}
// <-  punctuation.section.block.end.semafor-intens
;
// <- punctuation.terminator.semafor-intens

FUNC myfunc2 {},
// <- storage.type.function.semafor-intens
//   ^^^^^^^ entity.name.function.semafor-intens
//           ^ punctuation.section.block.begin.semafor-intens
//            ^ punctuation.section.block.end.semafor-intens
//             ^ punctuation.separator.semafor-intens
    myfunc3 {};
//  ^^^^^^^ entity.name.function.semafor-intens
//          ^ punctuation.section.block.begin.semafor-intens
//           ^ punctuation.section.block.end.semafor-intens
//            ^ punctuation.terminator.semafor-intens

FUNC {DEADLY_SILENT, UPDATE_FORMS=NONE}
// <- storage.type.function.semafor-intens
    myfunc4 {};
//  ^^^^^^^ entity.name.function.semafor-intens

END.
